<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jogo da Velha - 10 Rodadas</title>
<style>
html, body {
  margin:0; padding:0;
  height:100%; width:100%;
  display:flex; flex-direction:column;
  align-items:center; justify-content:flex-start;
  font-family:Arial, sans-serif;
  background:#1e293b; color:#e2e8f0;
}

/* ---- TÍTULO ---- */
h1 {
  margin:0; 
  text-align:center;
  font-size:clamp(120px, 12vw, 220px); /* gigante no PC */
  text-shadow:0 0 60px #38bdf8;
}

/* ---- HUD ---- */
.hud {
  display:flex; justify-content:space-around;
  width:95%; max-width:900px;
  font-weight:bold;
  margin:0; /* colado no tabuleiro */
  font-size:clamp(32px, 4vw, 100px);
  flex-wrap:wrap;
  padding-bottom:20px; /* pequeno espaçamento do tabuleiro */
}

/* ---- MENUS ---- */
#menuScreen, #aiOptions {
  display:flex; flex-direction:column;
  align-items:center;
  margin-top:2vh;
  background:#334155;
  padding:5vw 20px;
  border-radius:10px;
  box-shadow:0 0 25px #38bdf8;
  width:90%; max-width:500px;
}
button, select {
  margin-top:10px;
  padding:16px 32px;
  border:none; border-radius:8px;
  background:#0ea5e9; color:white;
  font-size:clamp(18px, 3vw, 26px);
  cursor:pointer;
  box-shadow:0 0 20px #0ea5e9;
  width:100%; max-width:300px;
}

/* ---- OPÇÕES IA ---- */
#aiOptions .option {
  display:flex; flex-direction:column;
  align-items:flex-start;
  margin-top:15px;
  width:100%;
}

#aiOptions label {
  font-size:clamp(18px, 2.2vw, 24px);
  color:#e2e8f0;
  margin-bottom:5px;
}

#aiOptions select {
  width:100%;
  padding:12px 16px;
  border-radius:8px;
  border:none;
  background:#0ea5e9;
  color:white;
  font-size:clamp(16px, 2vw, 22px);
  box-shadow:0 0 18px #0ea5e9;
  cursor:pointer;
}

/* ---- TABULEIRO ---- */
#boardContainer {
  display:flex; align-items:center; justify-content:center;
  width:100%;
  flex-grow:1;
  margin-top:10px; /* pequeno espaçamento do HUD */
}

#board {
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(3, 1fr);
  grid-gap: 35px; 
  width: min(95vw, 900px);
  height: min(95vw, 900px);
}

.cell {
  background:#111827;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: min(20vw, 200px); 
  cursor:pointer;
  border-radius:12px;
  text-shadow:0 0 50px #fff;
  user-select:none;
  box-sizing:border-box;
  overflow:hidden;
}

.cell.X { color:#f43f5e; text-shadow:0 0 45px #f43f5e; }
.cell.O { color:#3b82f6; text-shadow:0 0 45px #3b82f6; }

/* ---- RESPONSIVO ---- */
@media(max-width: 1024px){
  #board { width:min(90vw,600px); height:min(90vw,600px); grid-gap:20px; }
  .cell { font-size:min(16vw,120px); }
  h1 { font-size: clamp(70px, 10vw, 140px); }
  .hud { font-size: clamp(22px, 3vw, 60px); padding-bottom:15px; }
}

@media(max-width: 600px){
  #board { width:90vw; height:90vw; grid-gap:10px; }
  .cell { font-size:18vw; }
  h1 { font-size: clamp(35px, 8vw, 60px); }
  .hud { font-size: clamp(14px, 4vw, 28px); max-width:90%; padding-bottom:10px; }
}
</style>
</head>
<body>
<h1>✨ Jogo da Velha ✨</h1>

<div class="hud">
  <div>Pontos X: <span id="scoreX">0</span></div>
  <div>Pontos O: <span id="scoreO">0</span></div>
  <div>Rodada: <span id="round">1</span>/10</div>
</div>

<div id="menuScreen">
  <p>Escolha o modo de jogo:</p>
  <button id="singleBtn">Contra IA</button>
  <button id="multiBtn">Multiplayer Local</button>
</div>

<div id="aiOptions" style="display:none;">
  <div class="option">
    <label for="playerSymbol">Escolha seu símbolo:</label>
    <select id="playerSymbol">
      <option value="X">❌ X</option>
      <option value="O">⭕ O</option>
    </select>
  </div>
  <div class="option">
    <label for="difficulty">Dificuldade:</label>
    <select id="difficulty">
      <option value="easy">Fácil</option>
      <option value="medium" selected>Médio</option>
      <option value="hard">Difícil</option>
    </select>
  </div>
  <button id="startAI">Iniciar</button>
</div>

<div id="boardContainer" style="display:none;">
  <div id="board"></div>
</div>

<audio id="bgMusic" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-7.mp3" loop autoplay></audio>

<script>
// mesmo JS do seu código original
const menuScreen=document.getElementById("menuScreen");
const aiOptions=document.getElementById("aiOptions");
const singleBtn=document.getElementById("singleBtn");
const multiBtn=document.getElementById("multiBtn");
const startAI=document.getElementById("startAI");
const boardEl=document.getElementById("board");
const boardContainer=document.getElementById("boardContainer");
const scoreXEl=document.getElementById("scoreX");
const scoreOEl=document.getElementById("scoreO");
const roundEl=document.getElementById("round");
const playerSymbolEl=document.getElementById("playerSymbol");
const difficultyEl=document.getElementById("difficulty");

let board=Array(9).fill(null);
let player="X", ai="O", mode="single", difficulty="medium";
let currentTurn="X", gameOver=false;
let scoreX=0, scoreO=0, round=1, maxRounds=10;

function createBoard(){
  boardEl.innerHTML="";
  board=Array(9).fill(null);
  gameOver=false;
  currentTurn="X";
  for(let i=0;i<9;i++){
    const cell=document.createElement("div");
    cell.classList.add("cell");
    cell.dataset.index=i;
    cell.addEventListener("click",()=>playerMove(i));
    boardEl.appendChild(cell);
  }
}

function updateHUD(){
  scoreXEl.textContent=scoreX;
  scoreOEl.textContent=scoreO;
  roundEl.textContent=round;
}

function playerMove(i){
  if(gameOver||board[i])return;
  if(mode==="single"){
    board[i]=player; renderBoard();
    if(checkWinner(player)){scoreX++;endRound("Você ganhou!");return;}
    if(board.every(c=>c)){scoreX++;scoreO++;endRound("Empate!");return;}
    aiMove();
  }else{
    board[i]=currentTurn; renderBoard();
    if(checkWinner(currentTurn)){
      currentTurn==="X"?scoreX++:scoreO++;
      endRound(`Jogador ${currentTurn} ganhou!`);return;
    }
    if(board.every(c=>c)){scoreX++;scoreO++;endRound("Empate!");return;}
    currentTurn=currentTurn==="X"?"O":"X";
  }
}

function aiMove(){
  const empty=board.map((v,i)=>v?null:i).filter(v=>v!==null);
  let move=empty[Math.floor(Math.random()*empty.length)];
  board[move]=ai; renderBoard();
  if(checkWinner(ai)){scoreO++;endRound("Você perdeu!");return;}
  if(board.every(c)){scoreX++;scoreO++;endRound("Empate!");return;}
}

function renderBoard(){
  document.querySelectorAll(".cell").forEach((c,i)=>{
    c.textContent=board[i]||"";
    c.className="cell "+(board[i]||"");
  });
}

function checkWinner(p){
  const wins=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
  return wins.some(c=>c.every(i=>board[i]===p));
}

function endRound(msg){
  gameOver=true;
  alert(msg);
  if(round>=maxRounds){
    if(scoreX===scoreO){
      alert("Empate geral! Rodadas bônus.");
      round++;createBoard();updateHUD();
      if(mode==="single"&&player==="O")aiMove();
      return;
    }
    alert(`Fim das ${maxRounds} rodadas! ${scoreX>scoreO?"X venceu!":"O venceu!"}`);
    scoreX=0;scoreO=0;round=1;
    menuScreen.style.display="flex";
    boardContainer.style.display="none";
    aiOptions.style.display="none";
    updateHUD();
  }else{
    round++;createBoard();updateHUD();
    if(mode==="single"&&player==="O")aiMove();
  }
}

singleBtn.onclick=()=>{menuScreen.style.display="none";aiOptions.style.display="flex";mode="single";}
multiBtn.onclick=()=>{menuScreen.style.display="none";boardContainer.style.display="flex";mode="multi";createBoard();}
startAI.onclick=()=>{
  player=playerSymbolEl.value;
  ai=(player==="X")?"O":"X";
  difficulty=difficultyEl.value;
  aiOptions.style.display="none";
  boardContainer.style.display="flex";
  createBoard();
};

updateHUD();
</script>
</body>
</html>
