<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jogo da Velha - 10 Rodadas</title>
  <style>
    * {
      margin:0;
      padding:0;
      box-sizing:border-box;
      font-family:Arial, sans-serif;
    }

    body {
      background:#0f172a;
      color:#fff;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      min-height:100vh;
      padding:2vh 2vw;
    }

    h1 {
      margin:8vh 0 1vh 0;
      font-size:clamp(32px,5vw,64px);
      text-align:center;
      color:#38bdf8;
      text-shadow:0 0 10px #38bdf8;
    }

    .hud {
      font-size:clamp(16px,2.5vw,28px);
      margin-bottom:2vh;
      text-align:center;
    }

    #board {
      display:grid;
      grid-template-columns:repeat(3,1fr);
      grid-template-rows:repeat(3,1fr);
      grid-gap:2%;
      width:min(90vw,500px);
      height:min(90vw,500px);
    }

    .cell {
      background:#111827;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:calc(min(90vw,500px) / 4);
      cursor:pointer;
      border-radius:8px;
      text-shadow:0 0 15px #fff;
      user-select:none;
      transition:background 0.3s;
    }

    .cell:hover {
      background:#1e293b;
    }

    button {
      margin-top:3vh;
      padding:0.8em 2em;
      background:#2563eb;
      border:none;
      border-radius:8px;
      color:#fff;
      font-size:clamp(16px,2.5vw,22px);
      cursor:pointer;
      transition:background 0.3s, transform 0.2s;
    }

    button:hover {
      background:#1d4ed8;
      transform:scale(1.05);
    }

    @media (max-width:600px){
      h1 { margin:5vh 0 1vh 0; }
      .hud { margin-bottom:1.5vh; }
    }
  </style>
</head>
<body>

  <h1>Jogo da Velha - 10 Rodadas</h1>
  <div class="hud">
    Rodada: <span id="round">1</span>/10 |
    Placar - X: <span id="scoreX">0</span> O: <span id="scoreO">0</span>
  </div>
  <div id="board"></div>
  <button id="reset">Reiniciar Jogo</button>

  <script>
    const boardEl = document.getElementById('board');
    const roundEl = document.getElementById('round');
    const scoreXEl = document.getElementById('scoreX');
    const scoreOEl = document.getElementById('scoreO');
    const resetBtn = document.getElementById('reset');

    let board = Array(9).fill('');
    let currentPlayer = 'X';
    let round = 1;
    let scoreX = 0;
    let scoreO = 0;
    let gameActive = true;

    function createBoard() {
      boardEl.innerHTML = '';
      board.forEach((_, i) => {
        const cell = document.createElement('div');
        cell.classList.add('cell');
        cell.dataset.index = i;
        cell.addEventListener('click', handleCellClick);
        boardEl.appendChild(cell);
      });
    }

    function handleCellClick(e) {
      const idx = e.target.dataset.index;
      if (!gameActive || board[idx] !== '') return;
      board[idx] = currentPlayer;
      e.target.textContent = currentPlayer;
      if (checkWin()) {
        if (currentPlayer === 'X') scoreX++;
        else scoreO++;
        updateHUD();
        nextRound(`${currentPlayer} venceu!`);
      } else if (!board.includes('')) {
        nextRound('Empate!');
      } else {
        currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
      }
    }

    function checkWin() {
      const wins = [
        [0,1,2],[3,4,5],[6,7,8],
        [0,3,6],[1,4,7],[2,5,8],
        [0,4,8],[2,4,6]
      ];
      return wins.some(([a,b,c]) => board[a] && board[a]===board[b] && board[a]===board[c]);
    }

    function nextRound(message) {
      alert(message);
      round++;
      if (round > 10) {
        alert(`Fim das rodadas!\nPlacar final - X: ${scoreX} | O: ${scoreO}`);
        resetGame();
      } else {
        currentPlayer = 'X';
        board = Array(9).fill('');
        updateHUD();
        createBoard();
      }
    }

    function updateHUD() {
      roundEl.textContent = round > 10 ? 10 : round;
      scoreXEl.textContent = scoreX;
      scoreOEl.textContent = scoreO;
    }

    function resetGame() {
      board = Array(9).fill('');
      currentPlayer = 'X';
      round = 1;
      scoreX = 0;
      scoreO = 0;
      gameActive = true;
      updateHUD();
      createBoard();
    }

    resetBtn.addEventListener('click', resetGame);

    createBoard();
  </script>
</body>
</html>
